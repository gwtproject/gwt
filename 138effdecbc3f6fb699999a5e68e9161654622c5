{
  "comments": [
    {
      "key": {
        "uuid": "c4ef2afe_069f839d",
        "filename": "user/super/com/google/gwt/emul/java/util/InternalHashCodeMap.java",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 5110
      },
      "writtenOn": "2015-09-09T04:13:13Z",
      "side": 1,
      "message": "There is still a bug here. If you call in the order of [next, hasNext, remove] and hasNext caused a chain switch it will fail.\n\nWe don\u0027t want to decrement if this is beginning of next chain (can be check with itemIndex\u003d\u003d0).",
      "revId": "138effdecbc3f6fb699999a5e68e9161654622c5",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e41fceee_19fa6be4",
        "filename": "user/super/com/google/gwt/emul/java/util/InternalHashCodeMap.java",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 5385
      },
      "writtenOn": "2015-09-10T21:43:24Z",
      "side": 1,
      "message": "I am not sure you are right / I am understanding you correctly, I tried to write a testcase with your comment but its passing:\n\n public void testIterationWithCollidingHashCodes_chainChange() {\n   Object firstKey \u003d createObjectWithHashCode(1);\n   Object secondKey \u003d createObjectWithHashCode(2);\n   Object thirdKey \u003d createObjectWithHashCode(2);\n\n   HashMap\u003cObject, String\u003e testMap \u003d new HashMap\u003c\u003e();\n   testMap.put(firstKey, \"one\");\n   testMap.put(secondKey, \"two\");\n   testMap.put(thirdKey, \"three\");\n\n   Iterator\u003cObject\u003e it \u003d testMap.keySet().iterator();\n\n   Object key \u003d it.next();\n   assertTrue(\"iterator should have next after first\", it.hasNext());\n   assertNotNull(testMap.get(key));\n   it.remove();\n   assertNull(testMap.get(key));\n\n   // causes chain to change\n   assertTrue(\"iterator should have next after removal\", it.hasNext());\n   it.next();\n\n   assertTrue(\"iterator should have next after next\", it.hasNext());\n   it.next();\n\n   assertFalse(\"iterator should have no next\", it.hasNext());\n }",
      "parentUuid": "c4ef2afe_069f839d",
      "revId": "138effdecbc3f6fb699999a5e68e9161654622c5",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c4ef2afe_cb7dd1ae",
        "filename": "user/super/com/google/gwt/emul/java/util/InternalHashCodeMap.java",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 5110
      },
      "writtenOn": "2015-09-10T22:07:11Z",
      "side": 1,
      "message": "I just copy pasted the test and it fails. Are you running it with the latest changes?",
      "parentUuid": "e41fceee_19fa6be4",
      "revId": "138effdecbc3f6fb699999a5e68e9161654622c5",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c4ef2afe_ee55433a",
        "filename": "user/super/com/google/gwt/emul/java/util/InternalHashCodeMap.java",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 5110
      },
      "writtenOn": "2015-09-11T00:27:12Z",
      "side": 1,
      "message": "https://gwt-review.googlesource.com/13489",
      "parentUuid": "c4ef2afe_cb7dd1ae",
      "revId": "138effdecbc3f6fb699999a5e68e9161654622c5",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}