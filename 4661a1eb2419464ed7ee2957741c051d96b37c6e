{
  "comments": [
    {
      "key": {
        "uuid": "c42c5730_db086bb0",
        "filename": "user/super/com/google/gwt/emul/java/util/ArrayList.java",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-27T20:37:00Z",
      "side": 1,
      "message": "We can\u0027t shortcut here because we should throw index out bounds regardless of fromIndex \u003d\u003d endIndex if index is out bound.",
      "revId": "4661a1eb2419464ed7ee2957741c051d96b37c6e",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e42f9b1f_d6a7e451",
        "filename": "user/super/com/google/gwt/emul/java/util/ArrayList.java",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 5970
      },
      "writtenOn": "2013-09-27T22:14:51Z",
      "side": 1,
      "message": "So, I verified that removeRange(0,0) works on an ArrayList of 0 size. And I went to http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#removeRange(int, int) and read: \"(If toIndex\u003d\u003dfromIndex, this operation has no effect.)\"\n\nSo I coded up this change.\n\nI then tried it on the command line:\n$ cat a.java\nimport java.util.ArrayList;\n\npublic class a extends ArrayList{\n  private static class Stack extends ArrayList {\n    public void removeRange(int fromIndex, int toIndex) {\n      super.removeRange(fromIndex, toIndex);\n    }\n  }\n\n  public static void main(String[] args) {\n    Stack s \u003d new Stack();\n    s.removeRange(0,0);\n    System.out.println(\"0,0 works!\");\n    s.removeRange(1,1);\n  }\n}\n\n$ javac a.java \u0026\u0026 java a\n0,0 works!\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException\n\tat java.lang.System.arraycopy(Native Method)\n\tat java.util.ArrayList.removeRange(ArrayList.java:587)\n\tat a$Stack.removeRange(a.java:6)\n\tat a.main(a.java:14)\n\nI\u0027ve made the code test this more exact condition for JRE compatibility.",
      "parentUuid": "c42c5730_db086bb0",
      "revId": "4661a1eb2419464ed7ee2957741c051d96b37c6e",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}