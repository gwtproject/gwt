{
  "comments": [
    {
      "key": {
        "uuid": "Ppdf.BPM",
        "filename": "user/src/com/google/gwt/junit/public/junit-standards.html",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-02-08T20:10:43Z",
      "side": 1,
      "message": "Maybe we should also log to window.console if it exists? This might be useful when running in manual mode.",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "PpQwPf-A",
        "filename": "user/src/com/google/gwt/junit/server/JUnitHostImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-02-08T19:02:37Z",
      "side": 1,
      "message": "System.exit() seems kind of drastic. It\u0027s probably okay for Blaze, but in general we don\u0027t know which JVM is running the JUnit tests or what else we\u0027re going to kill as a side effect. It seems like we should send a message reporting a fatal error to the message queue, so that all remaining GWTTestCases fail immediately and then the JUnit test runner shuts down in an orderly way (after running all non-GWTTestCases in the test suite). Perhaps you could write a method similar to JUnitMessageQueue.reportFatalLaunch()?",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "PpI0k7WQ",
        "filename": "user/src/com/google/gwt/junit/server/JUnitHostImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-02-08T19:39:00Z",
      "side": 1,
      "message": "I initially tried that and it gets pretty complex from there (requires user agent, session id etc. to match with tests as it is in a different state than reportFatalLaunch scenario). I started changing parts that I\u0027m not very comfortable with so I gave up.\n\nOn the other hand, this code will work only if our communication mechanism with server is broken (ie. when plain HttpRequest works but GWT-RPC doesn\u0027t work). System.exit is not ideal but this is very unlikely to happen especially after fixing the serialization bug. \n\nGenerally speaking, unit tests run in separate JVMs due to potential interference over global state. So I think this would not behave a lot different outside of Blaze. \nIf you are strongly against it, I can remove the System.exit line and the test will eventually timeout but we will at least have some logging in place?",
      "parentUuid": "PpQwPf-A",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "PpYwvD6c",
        "filename": "user/src/com/google/gwt/junit/server/JUnitHostImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-02-08T20:10:43Z",
      "side": 1,
      "message": "I was thinking of the case when it\u0027s run inside a classloader. I don\u0027t know if anyone actually does that, though.\n\nOkay, let\u0027s keep it as-is for now and see if anyone complains.",
      "parentUuid": "PpI0k7WQ",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "PpFK6BA0",
        "filename": "user/super/com/google/gwt/junit/translatable/com/google/gwt/junit/client/impl/GWTRunner.java",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 5000
      },
      "writtenOn": "2013-02-08T17:30:20Z",
      "side": 1,
      "message": "Now that we don\u0027t call markComplete() anymore, how does the test framework know it\u0027s finished?  Did setting _gwt_test_complete actually do anything?\n\n(I remember looking into this and not being able to find anything it was used for.)",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "PpNKOFDE",
        "filename": "user/super/com/google/gwt/junit/translatable/com/google/gwt/junit/client/impl/GWTRunner.java",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-02-08T18:14:32Z",
      "side": 1,
      "message": "Data transfered with syncToServer is enough to understand that test is finished. That is the actual mechanism for communication that.\n\nEffects of markComplete is not used in any place. I checked the original CL that introduced it to see if it was lost by mistake later but it wasn\u0027t even used there.",
      "parentUuid": "PpFK6BA0",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "PpLKiaJo",
        "filename": "user/super/com/google/gwt/junit/translatable/com/google/gwt/junit/client/impl/GWTRunner.java",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 5000
      },
      "writtenOn": "2013-02-08T18:15:18Z",
      "side": 1,
      "message": "Makes sense.",
      "parentUuid": "PpNKOFDE",
      "revId": "6dfc38221a08ae607e7e4a06556bb10b80bd5d4c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}