{
  "comments": [
    {
      "key": {
        "uuid": "4325c2ed_cd75dde3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 7,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "\"Add -XenableJsonSoyc which outputs soyc reports in a new format.\"\n\n(Migrate is not the right word because we aren\u0027t updating any old code to use the new reports in this patch.)",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a3fd9e74_06b22a7b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 7,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "May be \"update\"?",
      "parentUuid": "4325c2ed_cd75dde3",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_2db11915",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/SourceMapRecorder.java",
        "patchSetId": 15
      },
      "lineNbr": 51,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "final?",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_90be5a96",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/SourceMapRecorder.java",
        "patchSetId": 15
      },
      "lineNbr": 51,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4325c2ed_2db11915",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_4d256d93",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/DependencyGraphRecorder.java",
        "patchSetId": 15
      },
      "lineNbr": 33,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "I don\u0027t understand this notation. Could you expand this comment?",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_b0ea7e90",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/DependencyGraphRecorder.java",
        "patchSetId": 15
      },
      "lineNbr": 33,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "This comment is actually deprecated and was useful only for me. I\u0027ll deleted it and add a more appropriated comment to the class (in the next patch).",
      "parentUuid": "4325c2ed_4d256d93",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_ad5229f7",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/DependencyGraphRecorder.java",
        "patchSetId": 15
      },
      "lineNbr": 52,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "Need to document what the key is. It looks like it is JDeclaredType.getName() which is the same as ClassDescriptor.getFullName(), which is the fully qualified binary name. But the invariant isn\u0027t that obvious.",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_dbde3329",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/DependencyGraphRecorder.java",
        "patchSetId": 15
      },
      "lineNbr": 52,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "Done. Also, the method name will be updated to a more appropriated one: getCodeModel",
      "parentUuid": "4325c2ed_ad5229f7",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_adc1891c",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/EntityDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 92,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "Maybe give an example of what this is for a class, method, or field, and similarly for getFullName().\n\nFor a class it looks like this is based on JDeclaredType.getName() which is the \"binary name\", so for an inner class would be something like Foo$Bar.",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_7b33c72b",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/EntityDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 92,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4325c2ed_adc1891c",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_4d80cd97",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 60,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "javadoc",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_f6706eb4",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 60,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4325c2ed_4d80cd97",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_8d5ac5b5",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 68,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "It looks like we condense the child packages multiple times, because the recursive call does it, and then after it returns we do it again.\n\nInstead of a recursive call, this could be a while loop, so we only condense each child once.",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a3fd9e74_26e2ce6e",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 68,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "A return statement was missing here to avoid excessive recursive calls. Please read my next comment, in computeSubPackages(), about removing recursion.",
      "parentUuid": "4325c2ed_8d5ac5b5",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43a86290_ef64417e",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 68,
      "author": {
        "id": 5105
      },
      "writtenOn": "2013-12-04T00:10:03Z",
      "side": 1,
      "message": "I am not sure whether condensing is really needed, maybe only the prefix.\n\nI think it would be clearer this way:\n\n if (packages.size() \u003d\u003d 1 \u0026\u0026 classes.size() \u003d\u003d 0) {\n      PackageDescriptor childPackage \u003d packages.get(0);\n     childPackage.condense(); \n      name \u003d (name.equals(DEFAULT_PKG) ? \"\" : name + \".\")  + childPackage.name;\n      longName \u003d childPackage.longName;\n      packages \u003d childPackage.packages;\n      classes \u003d childPackage.classes;\t\n      return;\t\n}",
      "parentUuid": "a3fd9e74_26e2ce6e",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8387ba28_a97b1dd6",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 68,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-04T20:29:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43a86290_ef64417e",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_ad9509b3",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-12-02T20:40:20Z",
      "side": 1,
      "message": "It looks like we do extra work due to the recursion. Each class is added to a map multiple times, once for each ancestor package.\n\nIt seems like it would be clearer and more efficient to do this non-recursively:\n\n  PackageDescriptor top \u003d ...\n  for each class:\n    p \u003d top;\n    for (name in class.getPackage().split(\".\")):\n      p \u003d p.createOrGetChildPackage(name);\n    p.addClass(class); \n  top.condense();",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_76be3e4c",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "Sorry, but I don\u0027t understand your code very well :-(\nI think, I have to re-formulate it from scratch to avoid recursion. I can merge this method and condense() in an iterative algorithm. It will be more efficient, but I\u0027m not sure it\u0027ll be clearer.",
      "parentUuid": "4325c2ed_ad9509b3",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43a86290_2f14899f",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 5105
      },
      "writtenOn": "2013-12-04T00:10:03Z",
      "side": 1,
      "message": "W.r.t skybrians comments I think skybrian means:\n\n1) add a createOrGetChildPackage(String name) in PackageDescriptor that returns the subpackage with name as its name and creates it if it is not there.\n\n2) rewrite as\nPackageDescriptor top \u003d /* here goes the top (default) package) */\nfor (ClassDescriptor classDescription : classDescriptors)  {\n  PackageDescriptor package \u003d top;\n  for (String name: class.getPackageName().split(\".\")) {\n    // iterate on the package components\n     package \u003d package.createOrGetChildPackage(name);\n  }\n  package.addClass(class);\n}\ntop.condense(); // to get rid of \"empty\" prefixes.",
      "parentUuid": "4325c2ed_76be3e4c",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8387ba28_0c2c37b1",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-04T20:29:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43a86290_2f14899f",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43a86290_defba9ec",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 5105
      },
      "writtenOn": "2013-12-04T20:49:32Z",
      "side": 1,
      "message": "Seems that this function is gone.  Shouldn\u0027t it be there?\n\nprotected void computePackages(Collection\u003cClassDescriptor\u003e values) {\n  PackageDescriptor top \u003d new PackageDescriptor(....);  // create the top (default)  package here\n  for (ClassDescriptor classDescription : classDescriptors)  {\n    PackageDescriptor package \u003d top;\n    for (String name: class.getPackageName().split(\".\")) {\n      // iterate on the package components\n       package \u003d package.createOrGetChildPackage(name);\n    }\n    package.addClass(class);\n  }\n  top.condense(); // to get rid of \"empty\" prefixes.\n}",
      "parentUuid": "8387ba28_0c2c37b1",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3cdd6a7_775eeaad",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-05T06:29:49Z",
      "side": 1,
      "message": "It was only called from static method from(). So I inlined it.",
      "parentUuid": "43a86290_defba9ec",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3cdd6a7_3768724f",
        "filename": "dev/core/src/com/google/gwt/core/ext/soyc/coderef/PackageDescriptor.java",
        "patchSetId": 15
      },
      "lineNbr": 86,
      "author": {
        "id": 5105
      },
      "writtenOn": "2013-12-05T06:41:15Z",
      "side": 1,
      "message": "It seems that I was not paying atention :)",
      "parentUuid": "e3cdd6a7_775eeaad",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4325c2ed_edc54176",
        "filename": "dev/core/src/com/google/gwt/dev/util/Util.java",
        "patchSetId": 15
      },
      "lineNbr": 436,
      "author": {
        "id": 5105
      },
      "writtenOn": "2013-12-02T19:24:06Z",
      "side": 1,
      "message": "Place this one after getFileFrom...\n\nWhile we do not enforce ordering as part of our codestyle in GWT, this class members are already ordered so let\u0027s keep it that way.",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a3fd9e74_46dd52ab",
        "filename": "dev/core/src/com/google/gwt/dev/util/Util.java",
        "patchSetId": 15
      },
      "lineNbr": 436,
      "author": {
        "id": 6095
      },
      "writtenOn": "2013-12-03T23:15:53Z",
      "side": 1,
      "message": "Done. I was following the group-per-goal criteria.",
      "parentUuid": "4325c2ed_edc54176",
      "revId": "71c9bd84c1eefa469609ad949767e518e0820640",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}