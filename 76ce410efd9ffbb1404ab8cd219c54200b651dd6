{
  "comments": [
    {
      "key": {
        "uuid": "1d879d2a_9e376909",
        "filename": "user/super/com/google/gwt/user/translatable/com/google/gwt/user/client/rpc/impl/ClientSerializationStreamReader.java",
        "patchSetId": 5
      },
      "lineNbr": 60,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-06-05T19:49:16Z",
      "side": 1,
      "message": "It\u0027s unclear how this works. Maybe extract a readVersion(String encoded) method and write a few tests with some example strings?",
      "revId": "76ce410efd9ffbb1404ab8cd219c54200b651dd6",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d9cfd82_b630fec2",
        "filename": "user/super/com/google/gwt/user/translatable/com/google/gwt/user/client/rpc/impl/ClientSerializationStreamReader.java",
        "patchSetId": 5
      },
      "lineNbr": 60,
      "author": {
        "id": 5090
      },
      "writtenOn": "2013-06-06T06:37:40Z",
      "side": 1,
      "message": "The version number is always added last in the JSON array so it looks like this \"[.... ,7]\". I just find the last \u0027,\u0027 and lastÂ \u0027]\u0027 and assume the value between is the version number.\n\nSure I can extract it into a method and write some tests for it.",
      "parentUuid": "1d879d2a_9e376909",
      "revId": "76ce410efd9ffbb1404ab8cd219c54200b651dd6",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d879d2a_5e4ed1a1",
        "filename": "user/super/com/google/gwt/user/translatable/com/google/gwt/user/client/rpc/impl/ClientSerializationStreamReader.java",
        "patchSetId": 5
      },
      "lineNbr": 70,
      "author": {
        "id": 5010
      },
      "writtenOn": "2013-06-05T19:49:16Z",
      "side": 1,
      "message": "I\u0027m not sure we need a fallback? The server should have set the version correctly.",
      "revId": "76ce410efd9ffbb1404ab8cd219c54200b651dd6",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d9cfd82_d62b8253",
        "filename": "user/super/com/google/gwt/user/translatable/com/google/gwt/user/client/rpc/impl/ClientSerializationStreamReader.java",
        "patchSetId": 5
      },
      "lineNbr": 70,
      "author": {
        "id": 5090
      },
      "writtenOn": "2013-06-06T06:37:40Z",
      "side": 1,
      "message": "The fallback is needed when the concat etc. hacks are applied and JSON.parse will fail since the message is not valid JSON.\n\nBut if we change the server side implementation so that if the hacks are applied the version automatically becomes 7 then this indeed would not be needed.",
      "parentUuid": "1d879d2a_5e4ed1a1",
      "revId": "76ce410efd9ffbb1404ab8cd219c54200b651dd6",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}