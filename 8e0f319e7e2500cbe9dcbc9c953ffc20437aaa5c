{
  "comments": [
    {
      "key": {
        "uuid": "85156eeb_c272e9fa",
        "filename": "user/test-super/com/google/gwt/dev/jjs/super/com/google/gwt/dev/jjs/test/Java8Test.java",
        "patchSetId": 5
      },
      "lineNbr": 2099,
      "author": {
        "id": 5130
      },
      "writtenOn": "2019-09-27T16:18:02Z",
      "side": 1,
      "message": "Unexpectedly, when run in a plain JVM (by just copying these two test methods to Java8AstTest, for example), this line fails in both tests. Tested in Java8, 10, 12. Error message for each varies a bit:\n\nOpenJDK Java 8\n```\nTestcase: testIntersectionCastLambda took 0.008 sec\n\tCaused an ERROR\nMethod com/google/gwt/dev/jjs/impl/Java8AstTest$$Lambda$16.foo(Ljava/lang/String;)Ljava/lang/String; is abstract\njava.lang.AbstractMethodError: Method com/google/gwt/dev/jjs/impl/Java8AstTest$$Lambda$16.foo(Ljava/lang/String;)Ljava/lang/String; is abstract\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest$$Lambda$16/1899982990.foo(Unknown Source)\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest.testIntersectionCastLambda(Java8AstTest.java:1267)\n\nTestcase: testIntersectionCastMethodReference took 0.001 sec\n\tCaused an ERROR\nMethod com/google/gwt/dev/jjs/impl/Java8AstTest$$Lambda$17.foo(Ljava/lang/String;)Ljava/lang/String; is abstract\njava.lang.AbstractMethodError: Method com/google/gwt/dev/jjs/impl/Java8AstTest$$Lambda$17.foo(Ljava/lang/String;)Ljava/lang/String; is abstract\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest$$Lambda$17/968353128.foo(Unknown Source)\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest.testIntersectionCastMethodReference(Java8AstTest.java:1282)\n```\n\nOpenJDK Java 10\n```\nTestcase: testIntersectionCastLambda took 0.006 sec\n\tCaused an ERROR\nnull\njava.lang.AbstractMethodError\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest.testIntersectionCastLambda(Java8AstTest.java:1267)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nTestcase: testIntersectionCastMethodReference took 0.001 sec\n\tCaused an ERROR\nnull\njava.lang.AbstractMethodError\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest.testIntersectionCastMethodReference(Java8AstTest.java:1282)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n```\n\nOpenJDK Java 12\n```\nTestcase: testIntersectionCastLambda took 0.002 sec\n\tCaused an ERROR\nReceiver class com.google.gwt.dev.jjs.impl.Java8AstTest$$Lambda$59/0x0000000100299040 does not define or inherit an implementation of the resolved method abstract foo(Ljava/lang/String;)Ljava/lang/String; of interface com.google.gwt.dev.jjs.impl.Java8AstTest$I1.\njava.lang.AbstractMethodError: Receiver class com.google.gwt.dev.jjs.impl.Java8AstTest$$Lambda$59/0x0000000100299040 does not define or inherit an implementation of the resolved method abstract foo(Ljava/lang/String;)Ljava/lang/String; of interface com.google.gwt.dev.jjs.impl.Java8AstTest$I1.\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest.testIntersectionCastLambda(Java8AstTest.java:1269)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nTestcase: testIntersectionCastMethodReference took 0 sec\n\tCaused an ERROR\nReceiver class com.google.gwt.dev.jjs.impl.Java8AstTest$$Lambda$60/0x0000000100299440 does not define or inherit an implementation of the resolved method abstract foo(Ljava/lang/String;)Ljava/lang/String; of interface com.google.gwt.dev.jjs.impl.Java8AstTest$I1.\njava.lang.AbstractMethodError: Receiver class com.google.gwt.dev.jjs.impl.Java8AstTest$$Lambda$60/0x0000000100299440 does not define or inherit an implementation of the resolved method abstract foo(Ljava/lang/String;)Ljava/lang/String; of interface com.google.gwt.dev.jjs.impl.Java8AstTest$I1.\n\tat com.google.gwt.dev.jjs.impl.Java8AstTest.testIntersectionCastMethodReference(Java8AstTest.java:1284)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n```\n\nBoth tests seem to pass if the cast is changed to not be an intersection cast (as IntelliJ prefers). Worth pursuing?",
      "revId": "8e0f319e7e2500cbe9dcbc9c953ffc20437aaa5c",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": true
    }
  ]
}