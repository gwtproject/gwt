{
  "comments": [
    {
      "key": {
        "uuid": "39d9e76f_915a9eba",
        "filename": "user/src/com/google/gwt/user/History.gwt.xml",
        "patchSetId": 10
      },
      "lineNbr": 23,
      "author": {
        "id": 5030
      },
      "writtenOn": "2014-04-09T10:20:32Z",
      "side": 1,
      "message": "IIUC, this needs to be replaced by HistoryImplPushState.\n\nIE8 will use HistoryImplIE8, and all other browsers will use HistoryImplPushState. Then in the code we check that if pushState is not supported then we fallback to HistoryImplHashToken.\n\nWe should probably add a comment here about the process; e.g. \"will possibly be replaced programmatically by HistoryImplHashToken if pushState is not supported\"",
      "range": {
        "startLine": 23,
        "startChar": 58,
        "endLine": 23,
        "endChar": 78
      },
      "revId": "9145ab079f44d81c573648face397c889a332447",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9921f333_b9ac9f3d",
        "filename": "user/src/com/google/gwt/user/History.gwt.xml",
        "patchSetId": 10
      },
      "lineNbr": 23,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-04-09T20:53:46Z",
      "side": 1,
      "message": "+1 That\u0027s correct and it would be good to have the suggested comment as well.",
      "parentUuid": "39d9e76f_915a9eba",
      "range": {
        "startLine": 23,
        "startChar": 58,
        "endLine": 23,
        "endChar": 78
      },
      "revId": "9145ab079f44d81c573648face397c889a332447",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9921f333_b95a5fba",
        "filename": "user/src/com/google/gwt/user/client/History.java",
        "patchSetId": 10
      },
      "lineNbr": 230,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-04-09T20:53:46Z",
      "side": 1,
      "message": "I specifically suggested a createHistoryImpl method so that compiler can upgrade the type and optimize the instanceof operation which will drop unnecessary code.\n\nYour code may or may not work so you need to double check if you want to follow that path. On the other hand, following code only has one assignment for impl so it should be quite easy for compiler to optimize that:\n\n  HistoryImpl createHistoryImpl() {\n    HistoryImpl impl \u003d GWT.create(HistoryImpl.class);\n    if (impl instanceof HistoryImplPushState \u0026\u0026 !HistoryImplPushState.isSupported()) {\n      return new HistoryImplHashToken();\n    }\n    return impl;\n  }",
      "revId": "9145ab079f44d81c573648face397c889a332447",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}