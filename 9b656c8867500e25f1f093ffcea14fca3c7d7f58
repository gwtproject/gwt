{
  "comments": [
    {
      "key": {
        "uuid": "ff5d74d3_2c3857bf",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-09T19:24:11Z",
      "side": 1,
      "message": "why special-cased?",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 36,
        "endChar": 5
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_ecd0ffda",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 5105
      },
      "writtenOn": "2014-06-09T22:17:45Z",
      "side": 1,
      "message": "In modular compilation property values and rebinds are computed at runtime (this code was also in the AST generation).",
      "parentUuid": "ff5d74d3_2c3857bf",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 36,
        "endChar": 5
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_fbfbd358",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-10T00:13:15Z",
      "side": 1,
      "message": "No, I understand that part. I was trying to ask why they are not processed like any other init function here together with the rest of the init functions.",
      "parentUuid": "ff5d74d3_ecd0ffda",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 36,
        "endChar": 5
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_435c79a7",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 5305
      },
      "writtenOn": "2014-06-10T04:33:26Z",
      "side": 1,
      "message": "All the \"registering functions\" need to be run before any of the module entrypoints.\n\nSo these functions are run directly when createGwtOnLoad is called whereas the gwtOnLoad chain of functions are only setup here and are invoked at the end with a direct call to gwtOnLoad().",
      "parentUuid": "ff5d74d3_fbfbd358",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 36,
        "endChar": 5
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_6ce08fe3",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-09T19:24:11Z",
      "side": 1,
      "message": "nit: format\n\nalso the description is not easy to read - you might want to consider rewording some.\n\nalso perhaps you should move this documentation to javadoc...",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 51,
        "endChar": 34
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_acca0729",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 5105
      },
      "writtenOn": "2014-06-09T22:17:45Z",
      "side": 1,
      "message": "I\u0027ll rewrite the doc because it is a bit confusing.",
      "parentUuid": "ff5d74d3_6ce08fe3",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 51,
        "endChar": 34
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_ec21df93",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-09T19:24:11Z",
      "side": 1,
      "message": "I didn\u0027t get this part?",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 55,
        "endChar": 50
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_4ce033ac",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 5105
      },
      "writtenOn": "2014-06-09T22:17:45Z",
      "side": 1,
      "message": "In modular compilation each module will define a gwtOnLoad function, the code gets chained by the call\n\n  createGwtOnLoad(..., gwtOnLoad,..)\n\nIn the final code you will have\n  ...\n  // Mod1\n  ...\n  \n  createGwtOnLoad(..., gwtOnLoad,..)\n  \n  ...\n  // Mod2\n  ...\n  \n  createGwtOnLoad(..., gwtOnLoad,..)\n  \n  ...\n\n  // Modn\n  ...\n  \n  createGwtOnLoad(..., gwtOnLoad,..)\n\n\nThen you would need to define gwtOnLoad somewhere, the simplest would be to just var gwtOnLoad before each call but some reason in htmlunit the variable gwtOnLoad needs to be varred and assigned.",
      "parentUuid": "ff5d74d3_ec21df93",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 55,
        "endChar": 50
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_7b25a311",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-10T00:13:15Z",
      "side": 1,
      "message": "I see. What about the \u0027nullIfUndefined\u0027 part?",
      "parentUuid": "ff5d74d3_4ce033ac",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 55,
        "endChar": 50
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_a39c4d15",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 5305
      },
      "writtenOn": "2014-06-10T04:33:26Z",
      "side": 1,
      "message": "Necessary due to what I think is an htmlunit bug.\n\nIf you just do\n\n  var gwtOnLoad;\n  ModuleUtils.createGwtOnLoad(..., gwtOnLoad...)\n\nworks in every browser but not in HtmlUnit (which complains with an error of the sort gwtOnLoad not defined).\n\nDoing \n\n  var gwtOnLoad \u003d gwtOnLoad \u003d\u003d null ? null : gwtOnload    \n  ModuleUtils.createGwtOnLoad(..., gwtOnLoad...)\n\nhas the same meaning as the previous snippet and works with HtmlUnit.\n\nProbably we should stash the variable gwtOnLoad in the top level explictely and this trick wont be needed.\n\n\nThe function nullIfUndefined was just created to avoid creating the condition by AST synthesis.",
      "parentUuid": "ff5d74d3_7b25a311",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 55,
        "endChar": 50
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_6c9baf93",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 67,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-09T19:24:11Z",
      "side": 1,
      "message": "let\u0027s do not change the behavior yet as $entry has others side effects and might cause some headache.",
      "range": {
        "startLine": 67,
        "startChar": 15,
        "endLine": 67,
        "endChar": 20
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_2cd7f7cc",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 67,
      "author": {
        "id": 5105
      },
      "writtenOn": "2014-06-09T22:17:45Z",
      "side": 1,
      "message": "The behaviour here did not change, the functions here not module entry points.",
      "parentUuid": "ff5d74d3_6c9baf93",
      "range": {
        "startLine": 67,
        "startChar": 15,
        "endLine": 67,
        "endChar": 20
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_9bf65f3f",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 67,
      "author": {
        "id": 5110
      },
      "writtenOn": "2014-06-10T00:13:15Z",
      "side": 1,
      "message": "Oh so we have inconsistent behavior with monolithic and incremental compilation? (i.e. we potentially and likely running module entry points with independent $entry functions in incremental)",
      "parentUuid": "ff5d74d3_2cd7f7cc",
      "range": {
        "startLine": 67,
        "startChar": 15,
        "endLine": 67,
        "endChar": 20
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_23913df8",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 67,
      "author": {
        "id": 5305
      },
      "writtenOn": "2014-06-10T04:33:26Z",
      "side": 1,
      "message": "I am not sure why there is an array of functions here (but that was what was being synthesized anyhow).\n\nNormally there will be only one initFunction and it would be EntryMethodHolder.init() which inits all entry points with one $entry(), but I see you are right there seems to be a small semantic mismatch, in modular compilation there seems to be an $entry() per (library) module.\n\nIf we move to wrap every entry point with $entry the behaviour will be consistent. Let\u0027s discuss this item. \n\nThis patch preserves the current behaviour.",
      "parentUuid": "ff5d74d3_9bf65f3f",
      "range": {
        "startLine": 67,
        "startChar": 15,
        "endLine": 67,
        "endChar": 20
      },
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df719054_b070165c",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 5542
      },
      "writtenOn": "2014-06-09T17:40:22Z",
      "side": 1,
      "message": "can we use here something simpler like?:\n\nreturn value \u003d\u003d null ? null : value;",
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff5d74d3_6ce64f51",
        "filename": "dev/core/super/com/google/gwt/dev/jjs/intrinsic/com/google/gwt/lang/ModuleUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 5105
      },
      "writtenOn": "2014-06-09T22:17:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df719054_b070165c",
      "revId": "9b656c8867500e25f1f093ffcea14fca3c7d7f58",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}