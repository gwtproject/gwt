{
  "comments": [
    {
      "key": {
        "uuid": "4447ba3e_0c483726",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 12,
      "author": {
        "id": 5445
      },
      "writtenOn": "2015-09-14T22:26:25Z",
      "side": 1,
      "message": "[warning] Commit message lines should be 72 characters or fewer.",
      "revId": "b564919b8c6af8cc4980b876dc5352ea9dc5f031",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44725a92_605c3764",
        "filename": "dev/core/src/com/google/gwt/dev/js/JsNamespaceChooser.java",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 5105
      },
      "writtenOn": "2015-09-15T18:08:07Z",
      "side": 1,
      "message": "I have some misgivings about the whole approach in JsNameSpaceChooser. This was a hack already for SDM.\n\nWhat I don\u0027t like about this is that now the qualified name concept (that was already there for JsNameRefs) is also in JsName. I know you did not design this pass, but now that is a general pass I think it should be redesigned.\n\nI propose:\n  1) get rid of the namespace JsName in JsName\n  2) compute the mapping (as done here) from JsName to JsName namespace.\n  3) run a global JsVisitor pass that adds the qualifiers appropriately.\n\nAm I missing a reason why it shouldn\u0027t be done this way?\n\nAlso the fragment/code splitter code is kind of duplicated in many places. We should look at those and simplify instead of adding an extra layer. I think the handling of fragments should be done in one place not split between JsNamespaceChooser and HandleCrossFragmentReferences.",
      "revId": "b564919b8c6af8cc4980b876dc5352ea9dc5f031",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44725a92_4052dba9",
        "filename": "dev/core/src/com/google/gwt/dev/js/JsNamespaceChooser.java",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 5570
      },
      "writtenOn": "2015-09-15T19:27:44Z",
      "side": 1,
      "message": "I agree it\u0027s messy, but even after you\u0027re proposal there\u0027s still some semantic messiness. We are changing adding a qualifier to globally scoped variables, but leaving their JsName scope as the global scope. Technically, it\u0027s no longer global scope anymore. It just so happens this works, because I moved the namespace fixes after most other optimization passes.\n\nI can easily make the changed proposed, as it is just moving a field into a map, the more difficult piece will be figuring out how to unify HandleCrossFragmentReferences nicely.\n\nOne of the nice things about reusing and generalizing Brian\u0027s code is it simplified HCFR.",
      "parentUuid": "44725a92_605c3764",
      "revId": "b564919b8c6af8cc4980b876dc5352ea9dc5f031",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44725a92_e69940ba",
        "filename": "dev/core/src/com/google/gwt/dev/js/JsNamespaceChooser.java",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 5105
      },
      "writtenOn": "2015-09-22T18:03:31Z",
      "side": 1,
      "message": "I think to do it properly one would create a scope per new name (child of top scope) or a sort of module scope (the names are already unique I think) and move those JsNames from top scope.\n\nThe other think that I don\u0027t like is that code that decides which fragment to put stuff on is all sprinkled here, in HCFR and in CodeSplitter itself (fixups). It would be nicer if there is one place where all this is one at once.",
      "parentUuid": "44725a92_4052dba9",
      "revId": "b564919b8c6af8cc4980b876dc5352ea9dc5f031",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44725a92_60e7d719",
        "filename": "dev/core/src/com/google/gwt/dev/js/JsNamespaceChooser.java",
        "patchSetId": 9
      },
      "lineNbr": 398,
      "author": {
        "id": 5105
      },
      "writtenOn": "2015-09-15T18:08:07Z",
      "side": 1,
      "message": "Extract a constant with an appropriate name and lets use the same convention as before:  \"$gwt_interned\".",
      "range": {
        "startLine": 396,
        "startChar": 0,
        "endLine": 398,
        "endChar": 5
      },
      "revId": "b564919b8c6af8cc4980b876dc5352ea9dc5f031",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}