{
  "comments": [
    {
      "key": {
        "uuid": "Mtkw1n9Y",
        "filename": "user/src/com/google/gwt/editor/client/impl/ErrorCollector.java",
        "patchSetId": 3
      },
      "lineNbr": 61,
      "author": {
        "id": 5030
      },
      "writtenOn": "2012-12-06T10:07:46Z",
      "side": 1,
      "message": "The way we \"fixed\" it in our fork was to change SimpleError#getPath() to only do the substring() if pathPrefixLength was shorter than the absolutePath:\n\n   if (pathPrefixLength \u003e\u003d absolutePath.length()) {\n     return \"\";\n   }\n   return absolutePath.substring(pathPrefixLength);\n\nwhich is also equivalent to:\n\n   return absolutePath.substring(Math.min(pathPrefixLength, absolutePath.length()));\n\nYour approach is \"more correct\", while ours is probably faster as it only triggers when someone calls getPath() on the SimpleError.  \nAssertions could be added to check it only happens when it\u0027s supposed to happen (paths are the same, see below), so that the overhead is reduced at runtime. What do you think?",
      "revId": "b738a1207c814baa35b8ec6cc62c29be52eb7f3d",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "Mtgw-l7g",
        "filename": "user/src/com/google/gwt/editor/client/impl/ErrorCollector.java",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 5030
      },
      "writtenOn": "2012-12-06T10:07:46Z",
      "side": 1,
      "message": "Maybe we could add an assertion here, to be sure:\n\n   assert prefixLength \u003d\u003d 0 || error.getAbsolutePath().equals(ctx.getAbsolutePath());",
      "revId": "b738a1207c814baa35b8ec6cc62c29be52eb7f3d",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "Mtmwy2-E",
        "filename": "user/test/com/google/gwt/editor/client/EditorErrorTest.java",
        "patchSetId": 3
      },
      "lineNbr": 373,
      "author": {
        "id": 5030
      },
      "writtenOn": "2012-12-06T10:07:46Z",
      "side": 1,
      "message": "spaces",
      "revId": "b738a1207c814baa35b8ec6cc62c29be52eb7f3d",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}