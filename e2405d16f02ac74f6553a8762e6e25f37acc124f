{
  "comments": [
    {
      "key": {
        "uuid": "63f21c57_009a4682",
        "filename": "dev/core/src/com/google/gwt/dev/jjs/impl/JsniRestrictionChecker.java",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 5031
      },
      "writtenOn": "2016-06-06T20:24:38Z",
      "side": 1,
      "message": "Hmm so you are allowing all constructors now on these types (also in next else-if below)? Are you sure this is correct? Currently, without this CL applied, something like\n\n  @java.lang.Double::new(Ljava/lang/String;)(\"123\")\n\nis allowed but\n\n   @java.lang.String::new(Ljava/lang/String;)(\"other\")\n\nis disallowed. With your change the String constructor would now be allowed? I guess its a good idea to also add some tests for ::new in JsniRestrictionCheckerTest.",
      "range": {
        "startLine": 102,
        "startChar": 12,
        "endLine": 102,
        "endChar": 40
      },
      "revId": "e2405d16f02ac74f6553a8762e6e25f37acc124f",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03688001_fbf0679e",
        "filename": "dev/core/src/com/google/gwt/dev/jjs/impl/JsniRestrictionChecker.java",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 5110
      },
      "writtenOn": "2016-06-06T22:09:50Z",
      "side": 1,
      "message": "Actually it is the other way around. String was allowed and Double wasn\u0027t. Now as Double works the way String works, this change seems appropriate.",
      "parentUuid": "63f21c57_009a4682",
      "range": {
        "startLine": 102,
        "startChar": 12,
        "endLine": 102,
        "endChar": 40
      },
      "revId": "e2405d16f02ac74f6553a8762e6e25f37acc124f",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23e024e0_5e92555e",
        "filename": "dev/core/src/com/google/gwt/dev/jjs/impl/JsniRestrictionChecker.java",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 5031
      },
      "writtenOn": "2016-06-06T22:22:28Z",
      "side": 1,
      "message": "Are you sure? I tried\n\n   public void onModuleLoad() {\n    RootPanel.get().add(new Label(\"Test: \" + test()));\n    RootPanel.get().add(new Label(\"Test: \" + test2()));\n  }\n\n  private native final Double test() /*-{\n      return @java.lang.Double::new(Ljava/lang/String;)(\"123\")\n  }-*/;\n\n  private native final String test2() /*-{\n      return @java.lang.String::new(Ljava/lang/String;)(\"other\")\n  }-*/;\n\nwith a GWT build from 3rd june. It fails on test2() method. If I remove test2() it compiles fine and Double::new works.",
      "parentUuid": "03688001_fbf0679e",
      "range": {
        "startLine": 102,
        "startChar": 12,
        "endLine": 102,
        "endChar": 40
      },
      "revId": "e2405d16f02ac74f6553a8762e6e25f37acc124f",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}