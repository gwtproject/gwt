{
  "comments": [
    {
      "key": {
        "uuid": "f3c75f62_96968c93",
        "filename": "dev/core/src/com/google/gwt/dev/javac/PersistentUnitCache.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 5000
      },
      "writtenOn": "2013-07-22T23:58:05Z",
      "side": 1,
      "message": "Hm, okay, I see now.  I think this whole comment could be simplified to something like:\n\n    We must canonicalize the path here, otherwise we might set cacheDirectory to\n    something like \"/path/to/nonexistent/../gwt-unitCache\".  If this were to happen, the\n    mkdirs() call below would only create \"/path/to/gwt-unitCache\" and further accesses\n    via the uncanonicalized path would fail.\n    \n    Fixes issue 6443.\n\nDo you think that still accurately conveys the bug/fix?",
      "revId": "e9c1d1987ee31ba16b250c423cc0233f883ad4b7",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9349c3a6_a4a1a391",
        "filename": "dev/core/src/com/google/gwt/dev/javac/PersistentUnitCache.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-07-23T00:08:21Z",
      "side": 1,
      "message": "Note that \"would only create \u0027/path/to/gwt-unitCache\u0027\" is the expected behavior (or would you expect it to create nonexistent too?) I\u0027d rather say it \"would correctly create \u0027/path/to/gwt-unitCache\u0027 but further accesses via the uncanonicalized path could fail\" (note: only→correctly, and→but, would→could)\n\nOtherwise agree with the proposal.",
      "parentUuid": "f3c75f62_96968c93",
      "revId": "e9c1d1987ee31ba16b250c423cc0233f883ad4b7",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3c75f62_f6a260d6",
        "filename": "dev/core/src/com/google/gwt/dev/javac/PersistentUnitCache.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 5000
      },
      "writtenOn": "2013-07-23T00:28:40Z",
      "side": 1,
      "message": "Well, I do somewhat think if I call File.mkdirs() on a path like \"a/../b\" that it should create both \"a\" and \"b\" so the path provided can refer to the created directory.  This is the behavior I get with \"mkdir -p a/../b\" on Ubuntu at least.  But I\u0027ll accept that\u0027s not the behavior provided by File.mkdirs(). :)\n\nSo I don\u0027t think saying \"only\" implies \"incorrectly\" here: I just wanted to concisely emphasize that it won\u0027t also create \"/path/to/nonexistent\".  (And I also don\u0027t quite like \"correctly\" as explained in the above paragraph. ;))\n\nI think \"would fail\" is fine if we presuppose that the directory never exists (which is what I tried to imply by using the \"nonexistent\" directory name, rather than \"war\").  But \"could fail\" is more apt if we want to consider that the directory is somehow created another way in the mean time.  I\u0027m indifferent here, and can go either way.",
      "parentUuid": "9349c3a6_a4a1a391",
      "revId": "e9c1d1987ee31ba16b250c423cc0233f883ad4b7",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73828f1a_eacb478e",
        "filename": "dev/core/src/com/google/gwt/dev/javac/PersistentUnitCache.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 5031
      },
      "writtenOn": "2013-07-23T19:23:11Z",
      "side": 1,
      "message": "I think I would like to put it a tiny bit more explicit:\n\nWe must canonicalize the path here, otherwise we might set cacheDirectory to something like \"/path/to/x/../gwt-unitCache\". If this were to happen, the mkdirs() call below would create \"/path/to/gwt-unitCache\" but not \"/path/to/x\". Further accesses via the uncanonicalized path will fail, if \"/path/to/x\" had not been created by other means.\n\nFixes issue 6443.",
      "parentUuid": "f3c75f62_f6a260d6",
      "revId": "e9c1d1987ee31ba16b250c423cc0233f883ad4b7",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "337c97f0_4839bfb9",
        "filename": "dev/core/src/com/google/gwt/dev/javac/PersistentUnitCache.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 5000
      },
      "writtenOn": "2013-07-23T19:29:12Z",
      "side": 1,
      "message": "That wording sounds good to me.",
      "parentUuid": "73828f1a_eacb478e",
      "revId": "e9c1d1987ee31ba16b250c423cc0233f883ad4b7",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}