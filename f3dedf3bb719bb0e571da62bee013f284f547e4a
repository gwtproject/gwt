{
  "comments": [
    {
      "key": {
        "uuid": "b26fa53a_c41afe7b",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Can\u0027t we take the servlet-api-3.0 from javax.servlet directly?\nhttp://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22javax.servlet%22%20AND%20a%3A%22javax.servlet-api%22\n\n(either 3.0.1 or 3.1.0)\n\nIs this NoMetaInf version from Tomcat or from ourselves? If the latter, what\u0027s the issue with the META-INF?",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_363176fc",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "I have created the NoMetaInf version(readme file on how it is generated will be included).\nSignature files in metainf was causing rmic to fail with weird errors. Similar update was also required for the JDT upgrade so I just followed that: https://code.google.com/p/google-web-toolkit/source/browse/tools/lib/eclipse/README.jdt-upgrade\n\nI guess I can use 3.0.1 or 3.1.0. Is there any reason to choose to one over another?",
      "parentUuid": "b26fa53a_c41afe7b",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2011d89_a63566be",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-09-04T10:19:56Z",
      "side": 1,
      "message": "We should use the version that Jetty supports (3.0 in the version of Jetty we use, in this patch). That means we should probably use the JARs from Jetty rather than Tomcat.\n\nThe Servlet API is used for 2 things in GWT:\n\n* we need to compile our server code against the API\n* we need it at runtime in DevMode, in the embedded Jetty\n\nThe constraint is thus that the version used at compile-time should be lower/older than the one used at runtime; or at least that our server code doesn\u0027t use APIs that won\u0027t be supported at runtime.\n\n…but given how our build is currently organized, those two use-cases rely on the very same JAR (that we bundle in the ${alldeps.jar}), so I think we should pick the exact version that Jetty uses, which is http://search.maven.org/#artifactdetails%7Corg.eclipse.jetty.orbit%7Cjavax.servlet%7C3.0.0.v201112011016%7Corbit\n\nNote: I haven\u0027t checked the JAR form Jetty, but javax.servlet:javax.servlet-api:3.0.1 doesn\u0027t contain signature files.\n\nThat said, as the Ant build is going to be replaced in the coming months (hopefully), we can change that at that time (we\u0027ll be able to compile against the \"original\" javax.servlet and run with Jetty\u0027s version). And we should no longer need the NoMetaInf versions either as \u0027rmic\u0027 will be given just what\u0027s needed, which doesn\u0027t include javax.servlet or JDT.",
      "parentUuid": "9226214e_363176fc",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f25d9dd3_4f1b4533",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-05T02:58:25Z",
      "side": 1,
      "message": "I actually get servlet-api-3.0.jar from Jetty distribution (jetty-distribution-8.1.9.v20130131) not from Tomcat. I put it there because the older versions were already there.\n\nSo are you proposing to keep it?",
      "parentUuid": "f2011d89_a63566be",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2011d89_29cb893c",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-09-05T08:38:38Z",
      "side": 1,
      "message": "Given the current state of affairs then yes, let\u0027s keep it. Could you put it into the jetty/ folder though? (we really did get the previous ones from Tomcat, as we actually still bundled Tomcat until quite recently – last December IIRC)",
      "parentUuid": "f25d9dd3_4f1b4533",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa53a_e417fa52",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Does HtmlUnit still depends on Xerces directly? Cannot it use javax.xml from the JRE?",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_364ad656",
        "filename": "dev/build.xml",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "xerses was from the htmlunit release itself so I assume the answer is yes.",
      "parentUuid": "b26fa53a_e417fa52",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa53a_0436d6fb",
        "filename": "dev/core/src/com/google/gwt/dev/shell/BrowserChannel.java",
        "patchSetId": 1
      },
      "lineNbr": 337,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Maybe we should make these changes independently from upgrading the dependencies? (in case we have to revert the upgrade, we\u0027d still have them)",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_96588a31",
        "filename": "dev/core/src/com/google/gwt/dev/shell/BrowserChannel.java",
        "patchSetId": 1
      },
      "lineNbr": 337,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "I am thinking the same. I kept them here as I am still investigating the TypedArray problem. Will create a separate patch when I finalize this.",
      "parentUuid": "b26fa53a_0436d6fb",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa53a_243bd2e2",
        "filename": "dev/core/src/com/google/gwt/dev/shell/jetty/JettyLauncher.java",
        "patchSetId": 1
      },
      "lineNbr": 509,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Why has this method been moved around?",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_164d5a6d",
        "filename": "dev/core/src/com/google/gwt/dev/shell/jetty/JettyLauncher.java",
        "patchSetId": 1
      },
      "lineNbr": 509,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "There is no isSystemClass/Path anymore in WebAppClassLoader to override. Original implementation was based on querying the context for system classes. In the new version context provides this method instead so I have overridden there.\n\n(I was mostly following John\u0027s patch as the starting point for this class: http://gwt-code-reviews.appspot.com/306803/patch/1/2)",
      "parentUuid": "b26fa53a_243bd2e2",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2011d89_66408e11",
        "filename": "dev/core/src/com/google/gwt/dev/shell/jetty/JettyLauncher.java",
        "patchSetId": 1
      },
      "lineNbr": 509,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-09-04T10:19:56Z",
      "side": 1,
      "message": "Ah OK, thanks.",
      "parentUuid": "9226214e_164d5a6d",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa53a_4440ce42",
        "filename": "samples/dynatablerf/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Side note: this dependency is missing a\n\n \u003cscope\u003eprovided\u003c/scope\u003e\n\nThis change probably isn\u0027t the best time to add it though.",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_d67fe274",
        "filename": "samples/dynatablerf/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "b26fa53a_4440ce42",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2011d89_264a962f",
        "filename": "samples/dynatablerf/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-09-04T10:19:56Z",
      "side": 1,
      "message": "Hmm, there\u0027s no version 3.0 of javax.servlet:servlet-api.\n\nThe correct dependency would be:\n\n \u003cdependency\u003e\n   \u003cgroupId\u003ejavax.servlet\u003c/groupId\u003e\n   \u003cartifactId\u003ejavax.servlet-api\u003c/artifactId\u003e\n   \u003cversion\u003e3.0.1\u003c/version\u003e\n   \u003cscope\u003eprovided\u003c/scope\u003e\n \u003c/dependency\u003e\n\nBut actually, I think keeping the 2.5 version here should Just Work™, so let\u0027s revrt that change and we\u0027ll fix it later (along with adding the provided scope), when we\u0027ll start thinking about releasing a new version.",
      "parentUuid": "9226214e_d67fe274",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f25d9dd3_af0bd934",
        "filename": "samples/dynatablerf/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-05T02:58:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2011d89_264a962f",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa53a_6445ca51",
        "filename": "servlet-api-3.0.jar",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Same remark as Matthew, I suppose it was a mistake from your side as it\u0027s not referenced anywhere.",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_f6845e61",
        "filename": "servlet-api-3.0.jar",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "I meant to include it next to servlet-api-3.0.jar as the original file but it somehow ended up here :)",
      "parentUuid": "b26fa53a_6445ca51",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b26fa53a_8429e699",
        "filename": "user/src/com/google/gwt/junit/RunStyleHtmlUnit.java",
        "patchSetId": 1
      },
      "lineNbr": 239,
      "author": {
        "id": 5030
      },
      "writtenOn": "2013-08-31T11:47:54Z",
      "side": 1,
      "message": "Yay!",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9226214e_96896a78",
        "filename": "user/src/com/google/gwt/junit/RunStyleHtmlUnit.java",
        "patchSetId": 1
      },
      "lineNbr": 239,
      "author": {
        "id": 5110
      },
      "writtenOn": "2013-09-04T08:06:53Z",
      "side": 1,
      "message": "I had no other options :)",
      "parentUuid": "b26fa53a_8429e699",
      "revId": "f3dedf3bb719bb0e571da62bee013f284f547e4a",
      "serverId": "84fdd5b9-d3fc-3149-9ae9-e619898c4c46",
      "unresolved": false
    }
  ]
}